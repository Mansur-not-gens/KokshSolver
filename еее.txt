 FastAPI + PostgreSQL + RenderðŸ—„ ÐšÐ°ÐºÐ¸Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ð½ÑƒÐ¶Ð½Ñ‹
1ï¸âƒ£ posts
Ð¿Ð¾Ð»Ðµ	Ñ‚Ð¸Ð¿	Ð·Ð°Ñ‡ÐµÐ¼
id	int	ID Ð¿Ð¾ÑÑ‚Ð°
title	string	Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº
content	text	Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ‚ÐµÐºÑÑ‚
image_url	string	ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° ÐºÐ°Ñ€Ñ‚Ð¸Ð½ÐºÑƒ
votes	int	ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²
is_important	bool	Ð²Ð°Ð¶Ð½Ñ‹Ð¹ Ð»Ð¸ Ð¿Ð¾ÑÑ‚
created_at	datetime	ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°
2ï¸âƒ£ comments
Ð¿Ð¾Ð»Ðµ	Ñ‚Ð¸Ð¿	Ð·Ð°Ñ‡ÐµÐ¼
id	int	ID ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ñ
post_id	int (FK)	Ðº ÐºÐ°ÐºÐ¾Ð¼Ñƒ Ð¿Ð¾ÑÑ‚Ñƒ
text	text	Ñ‚ÐµÐºÑÑ‚ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ñ
created_at	datetime	ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°
ðŸ“¡ ÐšÐ°ÐºÐ¸Ðµ endpointâ€™Ñ‹ Ð½ÑƒÐ¶Ð½Ñ‹
ÐŸÐ¾ÑÑ‚Ñ‹
POST   /api/posts
GET    /api/posts
GET    /api/posts/{id}
POST   /api/posts/{id}/vote
ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸
POST   /api/posts/{id}/comments
GET    /api/posts/{id}/comments
Ð’Ð¡Ð. Ð­Ñ‚Ð¾Ð³Ð¾ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾.

ðŸ—³ ÐšÐ°Ðº Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ
Ð›Ð¾Ð³Ð¸ÐºÐ° Ð¿Ñ€Ð¾ÑÑ‚Ð°Ñ:

post.votes += 1

if post.votes >= N:
    post.is_important = True
Ð“Ð´Ðµ N â€” Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ 10.

ðŸ–¼ Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ñ ÐºÐ°Ñ€Ñ‚Ð¸Ð½ÐºÐ°Ð¼Ð¸?
Ð¡Ð°Ð¼Ñ‹Ð¹ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± Ð´Ð»Ñ Ñ…Ð°ÐºÐ°Ñ‚Ð¾Ð½Ð°:

ðŸ‘‰ ÐÐµ Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» Ð² Ð‘Ð”
ðŸ‘‰ Ð¥Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ image_url

Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹:

Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ð¸Ð½ÐºÑƒ Ð½Ð° Cloudinary

Ð¸Ð»Ð¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð² static/

Ð¸Ð»Ð¸ Ð²Ð¾Ð¾Ð±Ñ‰Ðµ Ð²ÑÑ‚Ð°Ð²Ð»ÑÑ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ

ÐÐ° Ñ…Ð°ÐºÐ°Ñ‚Ð¾Ð½Ðµ Ð»ÑƒÑ‡ÑˆÐµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑŒ URL.

ðŸ“ ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°
app/
 â”œâ”€â”€ main.py
 â”œâ”€â”€ database.py
 â”œâ”€â”€ models.py
 â”œâ”€â”€ schemas.py
 â””â”€â”€ routers/
      â”œâ”€â”€ posts.py
      â””â”€â”€ comments.py


// ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ð¾ÑÑ‚
fetch("/api/posts", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ title: "Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº", content: "Ð¢ÐµÐºÑÑ‚", image_url: "https://..." })
})
.then(res => res.json())
.then(data => console.log(data));

// Ð¿Ñ€Ð¾Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ñ‚ÑŒ
fetch("/api/posts/1/vote", { method: "POST" })
  .then(res => res.json())
  .then(data => console.log(data));
